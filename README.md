# WhiteLight Backend API\n\nA Node.js/Express backend API for the WhiteLight shoe store application with MySQL database integration.\n\n## Features\n\n- Product management (CRUD operations)\n- Order processing and management\n- MySQL database integration\n- Input validation with Joi\n- CORS enabled for frontend integration\n- RESTful API design\n\n## Setup Instructions\n\n### 1. Install Dependencies\n```bash\nnpm install\n```\n\n### 2. Database Setup\n1. Make sure MySQL is running on your system\n2. Update the database credentials in `.env` file:\n   ```\n   DB_HOST=localhost\n   DB_USER=root\n   DB_PASSWORD=brian001\n   DB_NAME=whitelight_db\n   DB_PORT=3307\n   ```\n\n3. Run the migration script to create tables:\n   ```sql\n   -- Execute the SQL in migrations/001_initial_schema.sql in your MySQL client\n   ```\n\n### 3. Start the Server\n```bash\n# Development mode with auto-reload\nnpm run dev\n\n# Production mode\nnpm start\n```\n\nThe server will start on `http://localhost:5000`\n\n## API Endpoints\n\n### Products\n- `GET /api/products` - Get all products with filtering\n- `GET /api/products/:id` - Get single product by ID or slug\n- `GET /api/products/categories` - Get product categories\n- `GET /api/products/brands` - Get product brands\n\n### Orders\n- `POST /api/orders` - Create new order\n- `GET /api/orders` - Get all orders with pagination\n- `GET /api/orders/:id` - Get single order\n- `PUT /api/orders/:id/status` - Update order status\n\n### Health Check\n- `GET /api/health` - Server health status\n\n## Order Creation Example\n\n```javascript\nPOST /api/orders\nContent-Type: application/json\n\n{\n  \"customerName\": \"John Doe\",\n  \"customerPhone\": \"+254700000000\",\n  \"customerEmail\": \"john@example.com\",\n  \"deliveryAddress\": \"123 Main St, Nairobi\",\n  \"orderNotes\": \"Please call before delivery\",\n  \"items\": [\n    {\n      \"productId\": \"1\",\n      \"productName\": \"Nike Pegasus 40\",\n      \"productPrice\": 5800,\n      \"size\": 42,\n      \"quantity\": 1\n    }\n  ]\n}\n```\n\n## Environment Variables\n\n- `DB_HOST` - MySQL host (default: localhost)\n- `DB_USER` - MySQL username\n- `DB_PASSWORD` - MySQL password\n- `DB_NAME` - Database name\n- `DB_PORT` - MySQL port (default: 3306)\n- `PORT` - Server port (default: 3000)\n- `NODE_ENV` - Environment (development/production)\n- `FRONTEND_URL` - Frontend URL for CORS\n\n## Database Schema\n\nThe application uses the following main tables:\n- `products` - Product information\n- `product_images` - Product images\n- `product_variants` - Product sizes and stock\n- `orders` - Customer orders\n- `order_items` - Order line items\n\n## Error Handling\n\nThe API returns consistent error responses:\n```javascript\n{\n  \"success\": false,\n  \"message\": \"Error description\",\n  \"error\": \"Detailed error message\"\n}\n```\n\n## Success Responses\n\nSuccessful responses follow this format:\n```javascript\n{\n  \"success\": true,\n  \"message\": \"Operation successful\",\n  \"data\": { /* response data */ }\n}\n```"# whitelight-backend" 
